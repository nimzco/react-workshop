"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function autobind(target, key, descriptor) {
    var functionToBind = descriptor.value;
    // prevents IE11 recursion error
    var definingProperty = false;
    // tslint:disable no-invalid-this
    return {
        configurable: true,
        get: function () {
            if (definingProperty || this === target.prototype || this.hasOwnProperty(key)) {
                return functionToBind;
            }
            var boundFunction = functionToBind.bind(this);
            definingProperty = true;
            Object.defineProperty(this, key, {
                value: boundFunction,
                configurable: true,
                writable: true,
            });
            definingProperty = false;
            return boundFunction;
        },
    };
}
exports.default = autobind;
